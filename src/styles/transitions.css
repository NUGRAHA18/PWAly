/* --- Custom View Transitions --- */

/* Durasi animasi transisi */
:root {
    --transition-duration: 300ms;
    /* Anda bisa sesuaikan durasi ini */
}

/* * Definisikan animasi keyframes 
 * Kita akan mengkombinasikan fade dan slide
 */
@keyframes fade-in {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

@keyframes fade-out {
    from {
        opacity: 1;
    }

    to {
        opacity: 0;
    }
}

@keyframes slide-from-right {
    from {
        transform: translateX(50px);
    }

    /* Mulai dari sedikit ke kanan */
    to {
        transform: translateX(0);
    }
}

@keyframes slide-to-left {
    from {
        transform: translateX(0);
    }

    to {
        transform: translateX(-50px);
    }

    /* Berakhir sedikit ke kiri */
}

/* * Terapkan animasi ke pseudo-elements View Transition 
 * ::view-transition-old = Konten lama yang akan hilang
 * ::view-transition-new = Konten baru yang akan muncul
 */

::view-transition-old(root) {
    /* Halaman lama akan memudar dan bergeser ke kiri */
    animation: fade-out var(--transition-duration) ease-in forwards,
        slide-to-left var(--transition-duration) ease-in forwards;
}

::view-transition-new(root) {
    /* Halaman baru akan muncul sambil bergeser dari kanan */
    /* Ada sedikit penundaan pada fade-in agar tidak terlalu cepat bertabrakan */
    animation: fade-in calc(var(--transition-duration) * 0.8) ease-out calc(var(--transition-duration) * 0.2) forwards,
        slide-from-right var(--transition-duration) ease-out forwards;
}

/* * Opsional: Mengatur durasi grup animasi agar sinkron
 * Ini memastikan transisi terasa lebih menyatu
 */
::view-transition-group(root),
::view-transition-image-pair(root) {
    animation-duration: var(--transition-duration);
}

/* * Mencegah interaksi selama transisi untuk menghindari bug visual
 */
::view-transition-old(root),
::view-transition-new(root) {
    pointer-events: none;
}

html::view-transition {
    pointer-events: none;
    /* Cegah interaksi selama transisi */
}